# xargs

`xargs`是一个非常有用的命令，它主要用于将标准输入数据转换成命令行参数。`xargs`可以读取来自标准输入的数据，然后将这些数据作为参数传递给其他命令。这样可以使一些本来不接受标准输入数据的命令可以间接接收来自管道的数据。

## 基本用法

举个简单的例子，假设你有一个文件 `list.txt`，里面包含了多行文本，你想对这些文本每一行都执行 `echo`命令。

list.txt的内容如下：

```
hello
world
```

这时，你可以使用 `xargs`:

```bash
cat list.txt | xargs -n 1 echo
```

这条命令会输出：

```
hello
world
```

### `-n` 选项

在上面的命令中，`-n` 选项后面跟的数字指定了每次命令行调用时使用的参数个数。在这个例子中，`-n 1`告诉 `xargs`每次只使用一个参数调用 `echo`命令。

## 分割原理

`xargs` 默认情况下会将输入数据按空白字符（如空格、制表符或换行符）进行分割，然后将分割后的每一部分作为一个独立的参数传递给指定的命令。由于每行通常以换行符结束，`xargs` 因此可以自然地把每行当作一个参数来处理。

**例子**:

假设你有一个文件 `list.txt`，内容如下：

```
one two
three four
```

如果运行命令 `cat list.txt | xargs -n 1 echo`，输出将会是：

```
one
two
three
four
```

每行中的单词都被视为独立的参数，因为 `xargs` 默认按空白字符分割。然而，如果你希望确保 `xargs` 严格按照换行符分割参数（即使一行中有多个以空格分隔的单词），你可以使用 `-d` 选项（注意 `-d` 在某些系统的 `xargs` 并不可用）并指定换行符作为分隔符：

```
cat list.txt | xargs -d '\n' -n 1 echo
```

这样就能保证 `xargs` 会按行分割参数，使得输出为：

```
one two
three four
```

在大多数 `xargs` 用法中，你不需要特别指定分隔符，因为默认行为（即按空白字符分割）通常就是所需的行为。

### `xargs -r`

对于 `xargs -r`命令，`-r`选项的作用是，如果 `xargs`的输入为空，则不运行后面的命令。这个选项在某些情况下很有用，比如当 `find`命令没有找到任何文件时，你可能不想执行任何操作。
