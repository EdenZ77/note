# 第2章 寄存器

一个典型的 CPU(此处讨论的不是某一具体的CPU)由运算器、控制器、寄存器(CPU工作原理)等器件构成，这些器件靠内部总线相连。前一章所说的总线，相对于CPU内部来说是外部总线。内部总线实现CPU内部各个器件之间的联系，外部总线实现CPU和主板上其他器件的联系。简单地说，在CPU中：

- 运算器进行信息处理；
- 寄存器进行信息存储；
- 控制器控制各种器件进行工作；
- 内部总线连接各种器件，在它们之间进行数据的传送。

对于一个汇编程序员来说，CPU 中的主要部件是寄存器。寄存器是CPU 中程序员可以用指令读写的部件。程序员通过改变各种寄存器中的内容来实现对CPU的控制。

不同的CPU,寄存器的个数、结构是不相同的。8086CPU有14个寄存器，每个寄存器有一个名称。这些寄存器是：AX、BX、CX、DX、SI、DI、SP、BP、IP、CS、SS、DS、ES、PSW。我们不对这些寄存器进行一次性的介绍，在课程的进行中，需要用到哪些寄存器，再介绍哪些寄存器。  

## 2.1 通用寄存器

8086CPU的所有寄存器都是16 位的，可以存放两个字节。AX、BX、CX、DX 这4个寄存器通常用来存放一般性的数据，被称为通用寄存器。

以 AX为例，寄存器的逻辑结构如图2.1所示。  

<img src="image/image-20241120181806243.png" alt="image-20241120181806243" style="zoom:50%;" />

一个16位寄存器可以存储一个16位的数据，数据在寄存器中的存放情况如图2.2所示。

想一想，一个16位寄存器所能存储的数据的最大值为多少?

8086CPU 的上一代 CPU 中的寄存器都是 8 位的，为了保证兼容，使原来基于上代CPU编写的程序稍加修改就可以运行在 8086之上，8086CPU的 AX、BX、CX、DX这4个寄存器都可分为两个可独立使用的8位寄存器来用：  

- X可分为AH和 AL;
- BX可分为BH和 BL;
- CX可分为CH和CL;
- DX可分为DH和 DL。  

<img src="image/image-20241120181834806.png" alt="image-20241120181834806" style="zoom: 50%;" />

以 AX为例，8086CPU的16位寄存器分为两个8位寄存器的情况如图2.3所示。  

<img src="image/image-20241120181910840.png" alt="image-20241120181910840" style="zoom:50%;" />

AX的低 8位(0位~7位)构成了AL 寄存器，高8位(8位~15位)构成了AH 寄存器。AH和AL 寄存器是可以独立使用的8位寄存器。图2.4展示了16位寄存器及它所分成的两个8位寄存器的数据存储的情况。

想一想，一个8位寄存器所能存储的数据的最大值为多少?  

<img src="image/image-20241120181941818.png" alt="image-20241120181941818" style="zoom:50%;" />

## 2.2 字在寄存器中的存储



## 2.3 几条汇编指令



## 2.4 物理地址



## 2.5 16位结构的CPU



## 2.6 8086CPU给出物理地址的方法



## 2.7 “段地址×16+偏移地址=物理地址”的本质含义





## 2.8 段的概念





## 2.9 段寄存器



## 2.10 CS和IP



## 2.11 修改CS、IP的指令



## 2.12 代码段