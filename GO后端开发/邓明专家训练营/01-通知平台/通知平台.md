

# 业务背景

以下是基于提供的“亿级流量通知平台需求分析”文档，结合数据安全公司的业务场景，分析并举例说明通知平台的应用场景。作为数据安全公司，通知平台可以用于增强数据保护、安全事件响应、合规管理等方面。

## 引言

作为数据安全公司，通知平台是确保信息安全通信的核心工具。它可以用于实时告警、用户通知、合规性提醒等场景，结合文档中的需求设计（如多渠道支持、事务通知、鉴权机制），能有效提升数据安全的透明度和响应效率。通知平台的高可用性、灵活发送策略和严格管控特性，正好满足数据安全公司对可靠性、实时性和安全性的高要求。

## 关键场景分析及举例说明

以下将分场景分析数据安全公司如何使用通知平台，每个场景结合文档中的具体需求设计，并举例说明。

### 场景1：安全事件实时告警

- 结合点：数据安全公司需要实时检测和响应安全威胁（如数据泄露、入侵尝试）。通知平台的“立即发送”策略和高优先级渠道（如短信、通信APP）可确保告警及时触达。
- 文档需求结合：
  - 发送策略：文档中提到“立即执行”用于紧急通知（如验证码），安全事件可类比为紧急场景，需同步接口实现零延迟。
  - 多渠道支持：短信和通信APP具有高实时性，适合告警。
  - 事务通知：为确保告警不丢失，可启用事务通知功能（准备-提交-回滚接口），避免通知遗漏。
- 举例说明：当监控系统检测到异常数据访问时，通知平台立即通过短信和钉钉APP通知安全团队。例如，某次数据泄露事件中，平台在秒级内发送告警，团队快速隔离风险，减少损失。

### 场景2：合规性通知

- 结合点：数据安全公司需遵守法规（如GDPR），定期通知用户数据使用情况或安全事件。通知平台的“定时发送”和模板管理功能可自动化合规流程。
- 文档需求结合：
  - 发送策略：文档中“定时发送”支持周期重复（如月度账单），合规通知可设置为每月发送一次。
  - 模板管理：业务方可预定义合规模板（如数据使用报告），平台同步到云服务商，确保内容规范。
  - 静默时段控制：避免在用户休息时间发送，提升体验（文档中提及“静默时段控制”）。
- 举例说明：公司需按GDPR要求，每月向用户发送数据访问报告。通知平台使用邮件模板，在每月1日上午9点定时发送，避免凌晨打扰用户。

### 场景3：数据访问透明化通知

- 结合点：为增强用户信任，数据安全公司可在用户数据被访问时发送通知。通知平台的“延迟发送”和渠道筛选功能可优化触达。
- 文档需求结合：
  - 发送策略：文档中“事件触发后延迟发送”可用于访问后通知（如24小时后发送摘要）。
  - 调度策略：AI生成的调度策略表支持用户时区处理，确保全球用户合理接收。
  - 鉴权机制：通过业务方接入审批，防止滥用资源（文档中接口鉴权部分）。
- 举例说明：用户数据被第三方访问时，平台在访问事件后延迟1小时发送邮件通知，并根据用户时区调整发送时间。管理后台监控发送量，避免资源过度使用。

### 场景4：系统监控与运维告警

- 结合点：数据安全公司的运维团队需要实时接收系统监控告警。通知平台的异步接口和削峰填谷特性可处理高并发告警。
- 文档需求结合：
  - 异步接口：文档中异步接口支持高并发，告警请求先存储后发送，避免阻塞。
  - 批量发送：用于百万级告警拆分（文档中“批量发送”减少网络开销）。
  - 业务方接入：通过审批流程控制运维团队接入，确保合理性。
- 举例说明：当系统负载激增时，平台异步处理告警，通过批量接口发送给运维钉钉群。平台根据负载动态调度，避免下游服务过载。

### 总结

作为数据安全公司，通知平台的需求设计（如多渠道支持、事务通知、鉴权机制）能直接应用于安全关键场景。通过上述分析，通知平台提升了数据安全的实时性、可靠性和合规性。建议在实施时，优先结合事务通知用于高安全事件，并利用管理后台加强监控。文档中的需求（如调度策略和模板管理）可进一步定制，以满足数据安全公司的特殊要求。



# 课程笔记



## 第一周

需求分析：多渠道支持、云服务商管理、模板管理、发送策略、获得异步请求的执行结果（查询接口、回调接口、消息队列）、接口幂等性（幂等设计讨论的唯一性，有全局唯一和业务内唯一）、调度策略、事务通知（类似TCC分布式事务）、接口鉴权、业务方接入（申请与审批）、管理后台。

接口设计：发送接口、查询接口、事务接口

核心实现：项目结构、GRPC鉴权、发送策略支持、幂等问题（重点分析）、双重筛选设计（渠道和服务商分发）、异步请求、

















## 第二周









