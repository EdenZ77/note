## 代码的动静分离

在 Go 项目开发中，项目的代码，通常分为 2 大类：

1. **应用启动框架：**例如：命令行框架、配置文件解析和读取、配置项校验等；
2. **业务相关的代码：**业务相关的代码变更相较于应用框架部分，变更频繁，而且更可能会影响业务。

为了提高整个项目的可维护性，可以将上述 2 类代码进行分类拆分，从目录级别进行隔离，减少 2 类代码变更时相互影响的概率。

为了便于区分，我将上述 2 类代码分别称之为：应用框架代码和运行时代码。

## 优化 ServerOptions 结构体定义

因为我们将应用框架中的代码拆成了 2 部分代码，分别存放在以下 2 个目录中：

1. **应用框架代码：**cmd/fg-apiserver/app；
2. **运行时代码：**internal/apiserver/。

2 部分代码有些配置会共享，为了提高代码的复用度，需要将 cmd/fg-apiserver/app/options/options.go 文件中的可复用配置拆分成一个独立的包，供 2 种类别的代码引用。