# 1 Spec 设计

```
type Spec struct {
	Image string // 存储镜像地址
	Port int32 // 存储服务提供的端口
	Replicas int32 // 存储要部署多少个副本
	StartCmd string // 存储启动命令
	Args []string // 存储启动命令参数
	Environments []corev1.EnvVar // 存储环境变量，直接使用pod中的定义方式
	Expose *Expose // service要暴露的端口
}

type Expose struct {
	Mode string // 模式 nodePort or ingress
	IngressDomain string // 域名
	NodePort int32 // nodePort端口
	ServicePort int32 // service的端口，一般是随机生成，这里我们为了防止冲突，使用和我们提供服务相同的端口。
}
```

# 2 Status 设计

```
type Status struct {
	Phase string // 处于什么阶段
	Message string // 这个阶段的信息
	Reason string // 处于这个阶段的原因
	Conditions []Condition // 这个阶段的子资源的状态
}

type Condition struct {
	Type string // 子资源类型
	Message string // 这个这个子资源状态的信息
	Status string // 这个子资源的状态名称
	Reason string // 处于这个状态的原因
	LastTransitionTime metav1.Time // 最后创建/更新的时间
}
```
